rbr_source_cluster: refresh_primary

schema_tracker_cluster: repltracker

rbr_state_cluster: replhandler

register_dry_run: True

publish_dry_run: True

topology_path: topology.yaml

schema_blacklist:
    - information_schema
    - mysql
    - performance_schema
    - test

table_whitelist:
    - business
    - replication_heartbeat

producer_name: replication_handler

module_config:
    -   namespace: yelp_conn
        file: /nail/srv/configs/yelp_conn_generic.yaml
        initialize: yelp_conn.initialize
        config:
            connection_set_file: connection_sets.yaml

            connection_wrappers:
                - yelp_conn.sqllogger.LoggingConnectionWrapper
                - yelp_conn.wrappers.AnnotatingConnectionWrapper

            query_logging_listeners:
                - ['yelp_conn.sqllogger.ClogCursorListener', 'tmp_query_log']

            # Log queries to all listeners in `query_logging_listeners`
            enable_query_logging: True
            # Print queries to stdout
            enable_query_printing: True

    - namespace: smartstack_services
      file: /nail/etc/services/services.yaml

    - namespace: data_pipeline
      config:
        load_schematizer_host_and_port_from_smartstack: True
        kafka_cluster_type: datapipe
        kafka_cluster_name: uswest2-devc
        skip_messages_with_pii: True
